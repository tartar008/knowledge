# üïì Waiting & Sync (‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ã‡∏¥‡∏á‡πÇ‡∏Ñ‡∏£‡πÑ‡∏ô‡∏ã‡πå‡πÉ‡∏ô Playwright)

Playwright ‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö **Auto-Waiting** ‡∏ó‡∏µ‡πà‡∏ä‡∏≤‡∏ç‡∏â‡∏•‡∏≤‡∏î ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏™‡∏π‡∏á‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ `sleep()`  
‡∏ó‡∏∏‡∏Å action ‡πÄ‡∏ä‡πà‡∏ô `.click()` ‡∏´‡∏£‡∏∑‡∏≠ `.fill()` ‡∏à‡∏∞‡∏£‡∏≠‡πÉ‡∏´‡πâ element ‡∏õ‡∏£‡∏≤‡∏Å‡∏è, ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô, ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∂‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ

---

## ‚öôÔ∏è 1. ‡∏£‡∏∞‡∏ö‡∏ö Auto-Wait ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£

Playwright ‡∏à‡∏∞‡∏£‡∏≠‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:
- Element ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô DOM
- Element ‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô (hidden)
- Element ‡∏ñ‡∏π‡∏Å disable
- Animation ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏à‡∏ö
- Network ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà idle

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:
```ts
await page.click('#submit');  // ‡∏à‡∏∞‡∏£‡∏≠‡∏à‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÅ‡∏•‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏•‡∏¥‡∏Å‡∏à‡∏£‡∏¥‡∏á
```

üìò *‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:*  
Auto-wait ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö action ‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó ‡πÄ‡∏ä‡πà‡∏ô `.click()`, `.fill()`, `.check()`, `.hover()`, `.selectOption()`

---

## ‚è±Ô∏è 2. Explicit Wait (‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡πÅ‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á)

### ‡∏£‡∏≠ Element ‡∏õ‡∏£‡∏≤‡∏Å‡∏è
```ts
await page.waitForSelector('#username');
await page.fill('#username', 'student');
```

### ‡∏£‡∏≠ Element ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ
```ts
await page.waitForSelector('.loading', { state: 'detached' });
```

‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà `state` ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:
| state | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ |
|--------|------------|
| `'attached'` | Element ‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏ô DOM |
| `'detached'` | Element ‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å DOM |
| `'visible'` | Element ‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô |
| `'hidden'` | Element ‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô DOM |

---

## üåê 3. ‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö

```ts
await page.waitForLoadState('domcontentloaded');
await page.waitForLoadState('networkidle'); // ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÄ‡∏ß‡πá‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• async
```

| State | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|--------|-------------|
| `load` | ‡πÇ‡∏´‡∏•‡∏î‡∏ó‡∏∏‡∏Å resource ‡πÄ‡∏™‡∏£‡πá‡∏à |
| `domcontentloaded` | DOM ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô |
| `networkidle` | ‡πÑ‡∏°‡πà‡∏°‡∏µ request ‡πÉ‡∏î ‡πÜ ‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏Å‡∏¥‡∏ô 500 ms |

---

## üì° 4. ‡∏Å‡∏≤‡∏£‡∏£‡∏≠ Network Request / Response

### ‡∏£‡∏≠ Request ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á URL pattern
```ts
await page.waitForRequest('**/api/login');
```

### ‡∏£‡∏≠ Response ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á URL pattern
```ts
await page.waitForResponse('**/api/user', response => response.status() === 200);
```

---

## üß© 5. ‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÄ‡∏â‡∏û‡∏≤‡∏∞ (Custom Wait)

```ts
await page.waitForFunction(() => window.appReady === true);
```

üìò *‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:*  
`waitForFunction()` ‡∏à‡∏∞‡∏£‡∏±‡∏ô JavaScript ‡∏ã‡πâ‡∏≥ ‡πÜ ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô return ‡∏Ñ‡πà‡∏≤ truthy

---

## üß† 6. ‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

‡πÉ‡∏ä‡πâ `Promise.all()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠ event ‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô:

```ts
const [response] = await Promise.all([
  page.waitForResponse('**/api/login'),
  page.click('#submit'),
]);
```

Playwright ‡∏à‡∏∞‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏•‡∏∞‡∏£‡∏≠ response ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

---

## üß© 7. ‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ Expect Assertion

```ts
await expect(page.locator('#success')).toBeVisible();
```

üìò *‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:*  
`expect()` ‡∏°‡∏µ built-in wait ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (default timeout 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)  
‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ `waitForSelector()` ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏™‡∏°‡∏≠‡πÑ‡∏õ

---

## üßæ 8. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Timeout ‡πÄ‡∏≠‡∏á

```ts
await page.waitForSelector('#data', { timeout: 10000 });
await expect(page.locator('#done')).toBeVisible({ timeout: 15000 });
```

‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ô `playwright.config.ts`:
```ts
export default defineConfig({
  timeout: 30 * 1000,
  expect: { timeout: 5000 }
});
```

---

## üïπÔ∏è 9. ‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏ö‡∏ö‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á (Manual Delay)

‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `.waitForTimeout()` ‡πÄ‡∏ß‡πâ‡∏ô‡πÅ‡∏ï‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡πÜ

```ts
await page.waitForTimeout(2000); // ‡∏£‡∏≠ 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
```

üìò *‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:*  
‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏£‡∏ì‡∏µ animation ‡∏´‡∏£‡∏∑‡∏≠ loading ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡πÄ‡∏î‡∏≤‡πÑ‡∏î‡πâ‡∏¢‡∏≤‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

---

## üìä 10. ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£ Sync ‡∏Ç‡∏≠‡∏á UI

‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡∏•‡∏¥‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡πÉ‡∏´‡πâ UI ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï:  
```ts
await page.fill('#search', 'Playwright');
await page.waitForSelector('.results-loaded');
```

---

## üß© 11. ‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Locator ‡πÄ‡∏≠‡∏á

Locator ‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `.waitFor()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡πÄ‡∏â‡∏û‡∏≤‡∏∞ element ‡∏ô‡∏±‡πâ‡∏ô ‡πÜ

```ts
const btn = page.locator('#submit');
await btn.waitFor({ state: 'visible' });
await btn.click();
```

---

## ‚ö° 12. ‡∏£‡∏≠‡∏à‡∏ô element ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ

```ts
await page.waitForSelector('.loading', { state: 'hidden' });
await page.click('#next-step');
```

---

## üí° 13. ‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô

```ts
await page.waitForFunction(() => {
  const el = document.querySelector('.status');
  return el && el.textContent.includes('Complete');
});
```

---

## ‚úÖ 14. ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

| ‡∏´‡∏°‡∏ß‡∏î | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ |
|-------|----------|-----------|
| ‡∏£‡∏≠ element | `page.waitForSelector()` | ‡∏£‡∏≠‡∏à‡∏ô element ‡∏õ‡∏£‡∏≤‡∏Å‡∏è |
| ‡∏£‡∏≠‡∏´‡∏≤‡∏¢‡πÑ‡∏õ | `{ state: 'hidden' }` | ‡∏£‡∏≠‡∏à‡∏ô element ‡∏´‡∏≤‡∏¢ |
| ‡∏£‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤ | `page.waitForLoadState()` | ‡∏£‡∏≠ DOM ‡∏´‡∏£‡∏∑‡∏≠ Network |
| ‡∏£‡∏≠ API | `page.waitForResponse()` | ‡∏£‡∏≠ response ‡∏à‡∏≤‡∏Å API |
| ‡∏£‡∏≠‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç | `page.waitForFunction()` | ‡∏£‡∏≠‡πÉ‡∏´‡πâ JS return true |
| Auto-wait | Built-in ‡∏ó‡∏∏‡∏Å action | ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô wait ‡πÄ‡∏≠‡∏á |
| Manual wait | `page.waitForTimeout(ms)` | ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏£‡∏ì‡∏µ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô |

---

> üí¨ **Tips ‡∏°‡∏∑‡∏≠‡πÇ‡∏õ‡∏£:**  
> - ‡πÉ‡∏ä‡πâ `expect()` ‡πÅ‡∏ó‡∏ô manual wait ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î  
> - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ loading overlay ‡πÉ‡∏ä‡πâ `.waitForSelector('.loading', { state: 'hidden' })` ‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏ñ‡∏±‡∏î‡πÑ‡∏õ  
> - ‡πÄ‡∏°‡∏∑‡πà‡∏≠ test ‡∏ä‡∏≠‡∏ö fail ‡πÅ‡∏ö‡∏ö random ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ element dynamic ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà  
> - ‡∏ñ‡πâ‡∏≤ API call ‡∏¢‡∏≤‡∏ß ‡πÉ‡∏ä‡πâ `page.waitForResponse()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠ sync test ‡∏Å‡∏±‡∏ö backend ‡∏à‡∏£‡∏¥‡∏á  

---
